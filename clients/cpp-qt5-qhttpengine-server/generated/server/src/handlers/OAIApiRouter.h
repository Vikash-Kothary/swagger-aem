/**
 * Adobe Experience Manager (AEM) API
 * Swagger AEM is an OpenAPI specification for Adobe Experience Manager (AEM) API
 *
 * OpenAPI spec version: 3.2.0-pre.0
 * Contact: opensource@shinesolutions.com
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */

#ifndef OAI_APIROUTER_H
#define OAI_APIROUTER_H

#include <QObject>
#include <QStringList>
#include <QSharedPointer>
#include <QList>
#include <QMultiMap>

#include <qhttpengine/socket.h>
#include <qhttpengine/handler.h>
#include <qhttpengine/qobjecthandler.h>

#include "OAIConsoleApiHandler.h"
#include "OAICqApiHandler.h"
#include "OAICrxApiHandler.h"
#include "OAICustomApiHandler.h"
#include "OAISlingApiHandler.h"


namespace OpenAPI {

class RequestHandler : public  QHttpEngine::QObjectHandler
{
    Q_OBJECT
signals:
    void requestReceived(QHttpEngine::Socket *socket);

protected:
    virtual void process(QHttpEngine::Socket *socket, const QString &path){
        Q_UNUSED(path);
        emit requestReceived(socket);
    }
};

class ApiRouter : public QObject
{
    Q_OBJECT
public:
    ApiRouter();
    virtual ~ApiRouter();

    void setUpRoutes();
    void processRequest(QHttpEngine::Socket *socket);
private:
    QMultiMap<QString, std::function<void(QHttpEngine::Socket *)>> Routes;  
    
    OAIConsoleApiHandler *OAIConsoleApiApiHandler;
    OAICqApiHandler *OAICqApiApiHandler;
    OAICrxApiHandler *OAICrxApiApiHandler;
    OAICustomApiHandler *OAICustomApiApiHandler;
    OAISlingApiHandler *OAISlingApiApiHandler; 
};


}

#endif // OAI_APIROUTER_H